{% extends "admin/base_admin.html" %}
{% block title %}Dashboard - Admin Panel{% endblock %}
{% block page_title %}Dashboard{% endblock %}
{% block content %}

<!-- Page Background -->
<div class="min-vh-100 p-5 bg-dark-subtle">

  <div class="container-fluid">
    <!-- Stats Section -->
    <div class="row g-4 mb-4">
      <div class="col-xl col-md-4 col-sm-6">
        <div class="card h-100 shadow border-0 bg-white rounded-4">
          <div class="card-body d-flex align-items-center">
            <div class="bg-primary bg-gradient text-white p-3 rounded-3 me-3">
              <i class="fas fa-calendar-day fa-2x"></i>
            </div>
            <div>
              <h4 class="fw-bold mb-0">{{ stats.today_appointments }}</h4>
              <small class="text-muted">Today's Appointments</small>
            </div>
          </div>
        </div>
      </div>
      <div class="col-xl col-md-4 col-sm-6">
        <div class="card h-100 shadow border-0 bg-white rounded-4">
          <div class="card-body d-flex align-items-center">
            <div class="bg-success bg-gradient text-white p-3 rounded-3 me-3">
              <i class="fas fa-calendar-alt fa-2x"></i>
            </div>
            <div>
              <h4 class="fw-bold mb-0">{{ stats.total_appointments }}</h4>
              <small class="text-muted">Total Appointments</small>
            </div>
          </div>
        </div>
      </div>
      <div class="col-xl col-md-4 col-sm-6">
        <div class="card h-100 shadow border-0 bg-white rounded-4">
          <div class="card-body d-flex align-items-center">
            <div class="bg-info bg-gradient text-white p-3 rounded-3 me-3">
              <i class="fas fa-user-md fa-2x"></i>
            </div>
            <div>
              <h4 class="fw-bold mb-0">{{ stats.total_doctors }}</h4>
              <small class="text-muted">Approved Doctors</small>
            </div>
          </div>
        </div>
      </div>
      <div class="col-xl col-md-4 col-sm-6">
        <div class="card h-100 shadow border-0 bg-white rounded-4">
          <div class="card-body d-flex align-items-center">
            <div class="bg-warning bg-gradient text-white p-3 rounded-3 me-3">
              <i class="fas fa-clock fa-2x"></i>
            </div>
            <div>
              <h4 class="fw-bold mb-0">{{ stats.pending_doctors }}</h4>
              <small class="text-muted">Pending Approvals</small>
            </div>
          </div>
        </div>
      </div>
      <div class="col-xl col-md-4 col-sm-6">
        <div class="card h-100 shadow border-0 bg-white rounded-4">
          <div class="card-body d-flex align-items-center">
            <div class="bg-secondary bg-gradient text-white p-3 rounded-3 me-3">
              <i class="fas fa-users fa-2x"></i>
            </div>
            <div>
              <h4 class="fw-bold mb-0">{{ stats.total_patients }}</h4>
              <small class="text-muted">Registered Patients</small>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Actions + Recent Activity -->
    <div class="row g-4">
      <!-- Quick Actions -->
      <div class="col-lg-5">
        <div class="card shadow border-0 h-100 rounded-4">
          <div class="card-header bg-primary bg-gradient text-white fw-bold rounded-top">
            <i class="fas fa-bolt me-2"></i> Quick Actions
          </div>
          <div class="card-body">
            <div class="row row-cols-2 g-3">
              <div class="col">
                <a href="{{ url_for('admin.admin_doctors') }}" class="btn btn-outline-primary w-100 h-100 d-flex flex-column justify-content-center align-items-center p-3">
                  <i class="fas fa-user-md fa-2x mb-2"></i>
                  <span class="fw-semibold">Manage Doctors</span>
                </a>
              </div>
              <div class="col">
                <a href="{{ url_for('admin.admin_patients') }}" class="btn btn-outline-success w-100 h-100 d-flex flex-column justify-content-center align-items-center p-3">
                  <i class="fas fa-users fa-2x mb-2"></i>
                  <span class="fw-semibold">Manage Patients</span>
                </a>
              </div>
              <div class="col">
                <a href="{{ url_for('admin.admin_appointments') }}" class="btn btn-outline-info w-100 h-100 d-flex flex-column justify-content-center align-items-center p-3">
                  <i class="fas fa-calendar-alt fa-2x mb-2"></i>
                  <span class="fw-semibold">Appointments</span>
                </a>
              </div>
              <div class="col position-relative">
                <a href="{{ url_for('admin.admin_doctors_approval') }}" class="btn btn-outline-warning w-100 h-100 d-flex flex-column justify-content-center align-items-center p-3">
                  <i class="fas fa-user-check fa-2x mb-2"></i>
                  <span class="fw-semibold">Doctor Approvals</span>
                  {% if stats.pending_doctors > 0 %}
                  <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                    {{ stats.pending_doctors }}
                  </span>
                  {% endif %}
                </a>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Recent Activity -->
      <div class="col-lg-7">
        <div class="card shadow border-0 h-100 rounded-4">
          <div class="card-header bg-success bg-gradient text-white fw-bold rounded-top">
            <i class="fas fa-history me-2"></i> Recent Activity
          </div>
          <div class="card-body">
            <ul class="list-group list-group-flush">
              <li class="list-group-item d-flex justify-content-between align-items-center">
                <div>
                  <h6 class="mb-0">Appointment: Anjali Sharma</h6>
                  <small class="text-muted">With Dr. Vikram Singh - Cardiology</small>
                </div>
                <span class="badge bg-success rounded-pill">Confirmed</span>
              </li>
              <li class="list-group-item d-flex justify-content-between align-items-center">
                <div>
                  <h6 class="mb-0">Appointment: Rohan Mehta</h6>
                  <small class="text-muted">With Dr. Priya Desai - Pediatrics</small>
                </div>
                <span class="badge bg-warning rounded-pill">Pending</span>
              </li>
              <li class="list-group-item d-flex justify-content-between align-items-center">
                <div>
                  <h6 class="mb-0">New Registration: Aisha Khan</h6>
                  <small class="text-muted">New patient account created.</small>
                </div>
                <span class="text-muted small">5h ago</span>
              </li>
              <li class="list-group-item d-flex justify-content-between align-items-center">
                <div>
                  <h6 class="mb-0">Doctor Approved: Dr. Arjun Patel</h6>
                  <small class="text-muted">Neurology department</small>
                </div>
                <span class="text-muted small">1d ago</span>
              </li>
              <li class="list-group-item text-center">
                <a href="#" class="btn btn-sm btn-outline-secondary">View All Activity</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>

  </div>
</div>

{% endblock %}
